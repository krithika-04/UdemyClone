let instructor,requireSignin,isInstructor;_235‍.w("../helper/db",[["instructor",["instructor"],function(v){instructor=v}]]);_235‍.w("../middleware/index",[["requireSignin",["requireSignin"],function(v){requireSignin=v}],["isInstructor",["isInstructor"],function(v){isInstructor=v}]]);

module.exports = app => {
    const courses = require("../controller/course.controller.js");
    const multer = require('multer');
    const upload = multer()
    var router = require("express").Router();
  
    // Create a new course
    router.post("/createCourse/:id",upload.single('course_img'),requireSignin,isInstructor, courses.create);
    
    router.get("/:id",requireSignin,isInstructor, courses.fetchAllCoursesbyId);
    router.get("/", courses.fetchAllCourses);
    router.get("/:id/:slug",requireSignin,isInstructor, courses.fetchSingleCourse);
    router.patch("/updateCourse/:id/:c_id",requireSignin,isInstructor,courses.updateCourse)
    router.delete("deleteCourse/:id/:c_id",requireSignin,isInstructor,courses.deleteCourse)
    //router.post("/upload", upload.single('image'), courses.upload);
  
    // Retrieve all courses
    
  
    app.use('/api/courses', router);
  };